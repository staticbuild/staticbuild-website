.container-fluid(style='background-color: #393939;')
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      // Class
      a.anchor(id='class')
      h1 #{ast.root.name}
      p #{ast.root.classdesc}
      h2 Constructor
      // TODO: Figure out where constructor is in AST.
      .panel.panel-default
        .panel-heading: strong #{ast.root.name}(pathorOpt, opt)
        .panel-body: p #{ast.root.description}
    .col-xs-12.col-md-6(style='background-color: #393939;color:#fff;')
      p!=marked('This is **an example** of __markdown__.')
      p!=marked('This is **an example** of __markdown__.')
      pre
          code.hljs!= highlightJS('// This is code!\nvar x = 10, y = 10;\nconsole.log("x + y: " + (x + y).toString());')
      p!=marked('This is **an example** of __markdown__.')
      p!=marked('This is **an example** of __markdown__.')
      p!=marked('This is **an example** of __markdown__.')
      p!=marked('This is **an example** of __markdown__.')
      p!=marked('This is **an example** of __markdown__.')
      p!=marked('This is **an example** of __markdown__.')
  // Fields
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      p: a.anchor(id='fields')
      h2 Fields
    .hidden-xs.hidden-sm.col-md-6(style='background-color: #393939;')
      p
  each field in ast.fields
    +fieldRow(field)

  // Methods
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      p: a.anchor(id='methods')
      h2 Methods
    .hidden-xs.hidden-sm.col-md-6(style='background-color: #393939;')
      p
  each method in ast.functions
    +methodRow(method)

  // Static Fields
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      p: a.anchor(id='static-fields')
      h2 Static Fields
    .hidden-xs.hidden-sm.col-md-6(style='background-color: #393939;')
      p
  each field in ast.static.fields
    +fieldRow(field, 'static-')
  
  // Static Methods
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      p: a.anchor(id='static-methods')
      h2 Static Methods
    .hidden-xs.hidden-sm.col-md-6(style='background-color: #393939;')
      p
  each method in ast.static.functions
    +methodRow(method, 'static-')

// Mixins

mixin fieldRow(field, anchorPrefix)
  - anchorPrefix = anchorPrefix || '';
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      p!= '&nbsp;'
      .panel.panel-default
        .panel-heading: strong
          a.anchor(id=anchorPrefix + field.name)
          | #{field.name}
          +typeNamesBadge(field)
        .panel-body: p #{field.description}
    .col-xs-12.col-md-6(style='background-color: #393939;color:#fff;')
      p!=marked('This is **an example** of __markdown__.')
      pre
          code.hljs!= highlightJS('// This is code!\nvar x = 10, y = 10;\nconsole.log("x + y: " + (x + y).toString());')

mixin typeNamesBadge(member)
  if member && member.type && member.type.names
    span.pull-right #{member.type.names}

mixin returnTypeNamesBadge(member)
  if member.returns && member.returns.length > 0
    +typeNamesBadge(member.returns[0])

mixin methodRow(method, anchorPrefix)
  - anchorPrefix = anchorPrefix || '';
  .row.row-full-height
    .col-xs-12.col-md-6(style='background-color: #fff;')
      p!= '&nbsp;'
      .panel.panel-default
        .panel-heading: strong
          a.anchor(id=anchorPrefix + method.name)
          | #{method.name}(#{methodParamNames(method)})
          +returnTypeNamesBadge(method)
        .panel-body: p #{method.description}
        +paramstable(method)
    .col-xs-12.col-md-6(style='background-color: #393939;color:#fff;')
      p!=marked('This is **an example** of __markdown__.')
      pre
          code.hljs!= highlightJS('// This is code!\nvar x = 10, y = 10;\nconsole.log("x + y: " + (x + y).toString());')

mixin paramstable(method)
  if method.params || (method.returns && method.returns.length > 0)
    table.table
      if method.params
        thead
          tr
            td(style='width: 125px'): em Argument
            td(style='width: 100px'): em Type
            td: em Description
      tbody
        if method.params
          each param in method.params
            tr
              td(style='width: 125px') #{param.name}
              td(style='width: 100px')
                if param.type
                  | #{param.type.names}
              td #{param.description}
        if method.returns && method.returns.length > 0
          each rv in method.returns
            tr
              td(style='width: 125px'): strong Returns
              td(style='width: 100px')
                | #{memberTypeNames(rv)}
              td
                | #{rv.description}
